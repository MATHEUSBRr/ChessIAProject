<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Xadrez com IA - Stockfish</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="chess-section">
            <h1><i class="fas fa-chess"></i> Analisador de Xadrez Pro</h1>
            
            <div class="evaluation-container">
                <div class="evaluation-bar">
                    <div class="eval-fill" id="evalFill"></div>
                </div>
                <div class="eval-text" id="evalText">Carregando análise...</div>
            </div>
            
            <div class="board-container">
                <div class="chessboard" id="chessboard">
                    <svg class="svg-overlay" id="arrowSvg">
                        <defs>
                            <marker id="arrowhead" markerWidth="12" markerHeight="8" 
                                    refX="12" refY="4" orient="auto" markerUnits="strokeWidth">
                                <polygon points="0 0, 12 4, 0 8" fill="#ff6b6b" />
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
            
            <div class="button-group">
                <button class="btn-secondary" onclick="flipBoard()">
                    <i class="fas fa-sync-alt"></i> Virar Tabuleiro
                </button>
                <button class="btn-secondary" onclick="clearArrows()">
                    <i class="fas fa-eraser"></i> Limpar Setas
                </button>
                <button class="btn-primary" onclick="resetBoard()">
                    <i class="fas fa-redo"></i> Resetar
                </button>
            </div>
        </div>

        <div class="controls-section">
            <div class="control-group">
                <h3><i class="fas fa-file-import"></i> Importar PGN</h3>
                <textarea class="pgn-input" id="pgnInput" 
                         placeholder="Cole aqui o PGN do jogo...&#10;&#10;Exemplo:&#10;1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6"></textarea>
                
                <div class="button-group" style="margin-top: 15px;">
                    <button class="btn-primary" onclick="loadPGN()">
                        <i class="fas fa-upload"></i> Carregar PGN
                    </button>
                    <button class="btn-secondary" onclick="exportPGN()">
                        <i class="fas fa-download"></i> Exportar PGN
                    </button>
                </div>
            </div>

            <div class="control-group">
                <h3><i class="fas fa-gamepad"></i> Controles de Navegação</h3>
                <div class="button-group">
                    <button class="btn-primary" onclick="firstMove()">
                        <i class="fas fa-fast-backward"></i> Início
                    </button>
                    <button class="btn-primary" onclick="prevMove()">
                        <i class="fas fa-step-backward"></i> Anterior
                    </button>
                    <button class="btn-primary" onclick="nextMove()">
                        <i class="fas fa-step-forward"></i> Próxima
                    </button>
                    <button class="btn-primary" onclick="lastMove()">
                        <i class="fas fa-fast-forward"></i> Final
                    </button>
                </div>

                <div class="button-group" style="margin-top: 10px;">
                    <button class="btn-success" onclick="toggleAutoPlay()">
                        <i class="fas fa-play" id="autoPlayIcon"></i> Auto Play
                    </button>
                    <button class="btn-secondary" onclick="analyzeWithEngine()">
                        <i class="fas fa-brain"></i> Analisar IA
                    </button>
                </div>
            </div>

            <div class="control-group">
                <h3><i class="fas fa-list"></i> Lista de Jogadas</h3>
                <div class="moves-list" id="movesList">
                    <div style="text-align: center; color: #666; padding: 20px;">
                        Nenhum movimento ainda
                    </div>
                </div>
            </div>

            <div class="analysis-panel">
                <h3><i class="fas fa-microchip"></i> Análise Stockfish</h3>
                
                <div class="engine-status" id="engineStatus">
                    <div class="status-indicator"></div>
                    <span>Motor Stockfish carregado e pronto</span>
                </div>

                <div id="analysisContent">
                    <p>Clique em "Analisar IA" para obter uma avaliação detalhada da posição atual usando o motor Stockfish.</p>
                    
                    <div class="best-moves" id="bestMoves" style="display: none;">
                        <strong>Melhores jogadas:</strong>
                        <div id="engineMovesList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>&copy; 2023 Analisador de Xadrez Pro. Todos os direitos reservados.</p>
        <p>Desenvolvido por <a href="https://github.com/MATHEUSBRr" target="_blank">Matheus Brasileiro</a></p>
        <script src="script.js"></script>
</body>
</html>